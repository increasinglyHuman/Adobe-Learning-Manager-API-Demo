<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Kawaii Quiz - Modal Version</title>
    <link rel="stylesheet" href="styles-modal.css">
    <style>
        /* EMERGENCY DARK THEME OVERRIDE */
        /* Nuclear option - target ALL divs in modal */
        #modal div {
            background-color: transparent !important;
        }
        
        /* Then set specific dark backgrounds */
        #modal > div > div,
        #modal .modal-content,
        #modal .modal-body,
        #modal .modal-dialog,
        #modal .modal-dialog > div,
        #modal .quiz-builder-card,
        #modal .question-editor {
            background: #1a1a1a !important;
            background-color: #1a1a1a !important;
        }
        
        /* Force any white backgrounds to be dark */
        #modal [style*="background: white"],
        #modal [style*="background-color: white"],
        #modal [style*="background:#fff"],
        #modal [style*="background-color:#fff"],
        #modal [style*="background: rgb(255"],
        #modal [style*="background-color: rgb(255"] {
            background: #1a1a1a !important;
            background-color: #1a1a1a !important;
        }
        
        /* White text but NOT on buttons */
        #modal *:not(button):not(.btn) {
            color: #ffffff !important;
        }
        
        /* Form inputs */
        #modal input, #modal textarea {
            background: #2a2a2a !important;
            border: 1px solid #444 !important;
            color: #fff !important;
        }
        
        /* Restore button colors */
        #modal button,
        #modal .btn {
            /* Let buttons use their original styles */
            background: initial;
            color: initial;
        }
        
        #modal .btn-primary {
            background: #FF69B4 !important;
            color: white !important;
        }
        
        #modal .btn-success {
            background: #4CAF50 !important;
            color: white !important;
        }
        
        /* Green checkmark for correct answer */
        #modal .mark-correct-btn.selected,
        #modal .correct-answer .mark-correct-btn,
        #modal .checkmark,
        #modal .fa-check,
        #modal .correct-indicator {
            background: #4CAF50 !important;
            color: white !important;
        }
        
        /* Make sure ALL buttons and nav controls are visible */
        #modal .editor-footer,
        #modal .modal-footer,
        #modal .action-buttons,
        #modal .navigation-controls,
        #modal .nav-buttons,
        #modal .editor-controls,
        #modal .quiz-navigation {
            opacity: 1 !important;
            visibility: visible !important;
            display: flex !important;
            background: #000000 !important;  /* Pure black */
            padding: 15px !important;
            gap: 10px !important;
            justify-content: space-between !important;
            border: none !important;
        }
        
        #modal .editor-footer button,
        #modal .modal-footer button,
        #modal .action-buttons button,
        #modal .btn-save,
        #modal .btn-cancel,
        #modal .btn-prev,
        #modal .btn-next,
        #modal .btn-delete,
        #modal .btn-save-all,
        #modal button[class*="nav"],
        #modal button[class*="arrow"] {
            opacity: 1 !important;
            visibility: visible !important;
            display: inline-block !important;
        }
        
        /* Style the save button */
        #modal .btn-save,
        #modal button[type="submit"] {
            background: #4CAF50 !important;
            color: white !important;
            padding: 8px 20px !important;
            border-radius: 5px !important;
            border: none !important;
        }
        
        #modal .btn-cancel {
            background: #666 !important;
            color: white !important;
            padding: 8px 20px !important;
            border-radius: 5px !important;
            border: none !important;
        }
        
        /* Navigation button styles */
        #modal .btn-prev,
        #modal .btn-next,
        #modal button[class*="arrow"] {
            background: #333 !important;
            color: white !important;
            padding: 8px 15px !important;
            border-radius: 5px !important;
            border: 1px solid #555 !important;
            font-size: 18px !important;
        }
        
        #modal .btn-delete {
            background: #d32f2f !important;
            color: white !important;
            padding: 8px 15px !important;
            border-radius: 5px !important;
            border: none !important;
        }
        
        #modal .btn-save-all {
            background: #2196F3 !important;
            color: white !important;
            padding: 8px 20px !important;
            border-radius: 5px !important;
            border: none !important;
        }
        
        /* Brutalist Navigation Styles */
        .brutalist-nav {
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
            background: #000000 !important;  /* Pure black */
            padding: 20px !important;
            padding-bottom: 40px !important; /* Extra space for tooltips */
            border: none !important;  /* No border */
            position: relative !important;
            overflow: visible !important; /* Allow tooltips to show */
        }
        
        .nav-group {
            display: flex !important;
            gap: 15px !important;
            align-items: center !important;
        }
        
        .btn-brutalist {
            background: none !important;
            background-color: transparent !important;
            background-image: none !important;
            border: none !important;
            outline: none !important;
            padding: 10px !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            position: relative !important;
            overflow: visible !important;
            box-shadow: none !important;
            -webkit-appearance: none !important;
            -moz-appearance: none !important;
            appearance: none !important;
        }
        
        /* NUCLEAR OVERRIDE - Remove ALL backgrounds from navigation buttons */
        #modal .brutalist-nav button,
        #modal .btn-brutalist,
        #modal .btn-delete,
        #modal .btn-save,
        #modal .btn-next,
        #modal .btn-prev,
        #modal .btn-save-all,
        .brutalist-nav button,
        .btn-brutalist {
            background: transparent !important;
            background-color: transparent !important;
            background-image: none !important;
            box-shadow: none !important;
            border: none !important;
        }
        
        /* Remove any inline styles */
        #modal .brutalist-nav button[style] {
            background: transparent !important;
            background-color: transparent !important;
        }
        
        .btn-brutalist:hover:not(:disabled) {
            transform: scale(1.1) !important;  /* Scale up on hover */
        }
        
        .btn-brutalist:disabled {
            opacity: 0.3 !important;
            cursor: not-allowed !important;
        }
        
        .icon-brutal {
            width: 48px !important;  /* Smaller to fit in one row */
            height: 48px !important; /* Smaller to fit in one row */
            /* No filter - use original white icons */
            display: block !important;
        }
        
        .icon-flip {
            transform: scaleX(-1) !important;
        }
        
        /* Color the icons on hover */
        .btn-delete:hover:not(:disabled) .icon-brutal {
            filter: brightness(0) saturate(100%) invert(27%) sepia(95%) saturate(7481%) hue-rotate(358deg) brightness(96%) contrast(108%) drop-shadow(0 0 15px #ff3333) !important;
            /* Makes icon bright red */
        }
        
        .btn-save:hover:not(:disabled) .icon-brutal {
            filter: brightness(0) saturate(100%) invert(68%) sepia(57%) saturate(5239%) hue-rotate(79deg) brightness(118%) contrast(119%) drop-shadow(0 0 15px #4CAF50) !important;
            /* Makes icon bright green */
        }
        
        .btn-save-all:hover:not(:disabled) .icon-brutal {
            filter: brightness(0) saturate(100%) invert(38%) sepia(93%) saturate(1457%) hue-rotate(196deg) brightness(100%) contrast(96%) drop-shadow(0 0 15px #2196F3) !important;
            /* Makes icon bright blue */
        }
        
        .btn-prev:hover:not(:disabled) .icon-brutal,
        .btn-next:hover:not(:disabled) .icon-brutal {
            filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.8)) !important;
            /* Keep arrows white with glow */
        }
        
        /* LAST RESORT - Override everything with maximum specificity */
        html body #modal div.brutalist-nav button.btn-brutalist {
            background: transparent !important;
            background-color: transparent !important;
            background-image: none !important;
        }
        
        /* Remove title attribute to prevent browser tooltips */
        .btn-brutalist {
            pointer-events: all;
        }
        
        /* Adjust nav group spacing for single row */
        .brutalist-nav {
            flex-wrap: nowrap !important;
        }
        
        .nav-group {
            flex-shrink: 0 !important;
        }
        
        .nav-group.center {
            gap: 10px !important; /* Smaller gap between center buttons */
        }
        
        /* Checkmark icon sizing */
        .icon-check {
            width: 48px !important;  /* Same size as other icons */
            height: 48px !important;
            display: inline-block !important;
            vertical-align: middle !important;
        }
        
        /* Remove all backgrounds from correct answer buttons */
        #modal .mark-correct-btn,
        #modal .mark-correct-btn.selected {
            background: transparent !important;
            background-color: transparent !important;
            border: none !important;
            padding: 0 !important;
            width: auto !important;
            height: auto !important;
            min-width: unset !important;
            border-radius: 0 !important;
        }
        
        #modal .mark-correct-btn:hover {
            background: transparent !important;
            background-color: transparent !important;
        }
        
        /* Make the circle for unselected state larger */
        #modal .mark-correct-btn:not(.selected) {
            font-size: 48px !important;
            line-height: 48px !important;
            color: #666 !important;
        }
        
        /* Fix tooltips */
        .btn-brutalist[title] {
            position: relative !important;
        }
        
        /* Background watermark idea - giant transparent icon */
        .brutalist-nav::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, calc(-50% - 400px)) rotate(15deg); /* Move up 400px and rotate 15deg */
            width: 900px;  /* 3x larger */
            height: 900px; /* 3x larger */
            background-image: url('icons/skullbk.svg');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0.08; /* More visible but still subtle */
            pointer-events: none;
            z-index: 0;
        }
        
        /* Ensure buttons are above watermark */
        .nav-group {
            position: relative;
            z-index: 1;
        }
        
        /* BRUTALIST LEARNER INTERFACE STYLES */
        
        /* Dark background for all quiz screens */
        .quiz-container {
            background: #000000 !important;
            color: #ffffff !important;
        }
        
        /* Force question modal to match */
        .question-modal {
            background: #1a1a1a !important;
            border: 2px solid #333 !important;
            color: #ffffff !important;
            box-shadow: none !important;
        }
        
        .welcome-screen,
        .results-screen,
        .question-card,
        .question-modal,
        .loading-card {
            background: #1a1a1a !important;
            border: 2px solid #333 !important;
            color: #ffffff !important;
        }
        
        /* Quiz status bar */
        .quiz-status {
            background: #000000 !important;
            border: none !important;
            padding: 15px !important;
        }
        
        /* Hearts display - make them bigger and brutal */
        .hearts {
            font-size: 32px !important;
            filter: drop-shadow(0 0 10px rgba(255, 0, 0, 0.5));
        }
        
        /* Score and progress */
        .progress {
            color: #ffffff !important;
            font-weight: bold !important;
            font-size: 18px !important;
        }
        
        .score {
            color: #4CAF50 !important;
            font-weight: bold !important;
            font-size: 24px !important;
            text-transform: uppercase !important;
            letter-spacing: 2px !important;
            text-shadow: 0 0 10px rgba(76, 175, 80, 0.5) !important;
            animation: pulse-score 2s infinite !important;
        }
        
        @keyframes pulse-score {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* Question text */
        .question-text,
        .question-content h2 {
            color: #ffffff !important;
            font-size: 24px !important;
            font-weight: bold !important;
            text-align: center !important;
            margin: 30px 0 !important;
        }
        
        /* Ensure consistent answer options styling */
        .answer-options {
            background: transparent !important;
            padding: 0 !important;
            margin: 20px 0 !important;
        }
        
        /* Answer buttons - brutalist style */
        .answer-btn,
        .player-answer-button {
            background: transparent !important;
            border: 2px solid #666 !important;
            color: #ffffff !important;
            padding: 20px !important;
            margin: 10px 0 !important;
            font-size: 18px !important;
            transition: all 0.2s ease !important;
            cursor: pointer !important;
            text-align: left !important;
        }
        
        .answer-btn:hover:not(:disabled),
        .player-answer-button:hover:not(:disabled) {
            border-color: #ffffff !important;
            transform: translateX(5px) !important;
            box-shadow: -5px 5px 0 #333 !important;
        }
        
        .answer-btn.selected,
        .player-answer-button.selected {
            background: transparent !important;
            border-color: #4CAF50 !important;
            color: #4CAF50 !important;
            transform: translateX(5px) !important;
            box-shadow: 0 0 20px rgba(76, 175, 80, 0.3) !important;
        }
        
        /* Remove the pointing finger */
        .answer-btn.selected::before,
        .player-answer-button.selected::before {
            content: none !important;
            display: none !important;
        }
        
        .answer-btn:disabled,
        .player-answer-button:disabled {
            opacity: 0.7 !important;
            cursor: not-allowed !important;
            color: #999 !important;
            border-color: #444 !important;
        }
        
        /* Keep selected answer green even when disabled */
        .answer-btn.selected:disabled,
        .player-answer-button.selected:disabled {
            border-color: #4CAF50 !important;
            color: #4CAF50 !important;
        }
        
        /* Highlight correct answer in green */
        .answer-btn.show-correct,
        .player-answer-button.show-correct {
            border-color: #4CAF50 !important;
            color: #4CAF50 !important;
            box-shadow: 0 0 30px rgba(76, 175, 80, 0.5) !important;
        }
        
        /* Submit button */
        .submit-btn {
            background: #ffffff !important;
            color: #000000 !important;
            border: none !important;
            padding: 15px 40px !important;
            font-size: 20px !important;
            font-weight: bold !important;
            margin-top: 20px !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
        }
        
        .submit-btn:hover:not(:disabled) {
            transform: scale(1.05) !important;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5) !important;
        }
        
        .submit-btn:disabled {
            background: #333 !important;
            color: #666 !important;
        }
        
        /* Feedback modals */
        .feedback-correct {
            background: #000000 !important;
            border: 3px solid #4CAF50 !important;
        }
        
        .feedback-correct .modal-content::before {
            content: "BRUTAL!" !important;
            position: absolute !important;
            top: -30px !important;
            left: 50% !important;
            transform: translateX(-50%) !important;
            font-size: 48px !important;
            font-weight: bold !important;
            color: #4CAF50 !important;
            text-shadow: 0 0 20px rgba(76, 175, 80, 0.8) !important;
            animation: bounce 0.5s ease-out !important;
        }
        
        @keyframes bounce {
            0% { transform: translateX(-50%) translateY(-20px) scale(0); }
            50% { transform: translateX(-50%) translateY(0) scale(1.2); }
            100% { transform: translateX(-50%) translateY(0) scale(1); }
        }
        
        .feedback-incorrect {
            background: #000000 !important;
            border: 3px solid #ff3333 !important;
        }
        
        .feedback-incorrect .modal-content::before {
            content: "TERMINATED" !important;
            position: absolute !important;
            top: -30px !important;
            left: 50% !important;
            transform: translateX(-50%) !important;
            font-size: 36px !important;
            font-weight: bold !important;
            color: #ff3333 !important;
            text-shadow: 0 0 20px rgba(255, 51, 51, 0.8) !important;
            animation: shake 0.5s ease-out !important;
        }
        
        /* Results screen */
        .results-screen h1 {
            color: #ffffff !important;
            font-size: 48px !important;
            margin-bottom: 20px !important;
        }
        
        .final-score {
            background: #1a1a1a !important;
            border: 2px solid #666 !important;
            padding: 30px !important;
            margin: 20px 0 !important;
        }
        
        .final-score h2 {
            color: #4CAF50 !important;
            font-size: 36px !important;
        }
        
        /* Game over screen */
        .game-over h1 {
            color: #ff3333 !important;
        }
        
        /* Replace mascots with brutalist elements */
        .mascot {
            display: none !important;
        }
        
        /* Add skull watermark to quiz screens */
        .question-card::before,
        .question-modal::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-15deg);
            width: 400px;
            height: 400px;
            background-image: url('icons/skullbk.svg');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0.05;
            pointer-events: none;
            z-index: 0;
        }
        
        .question-card > *,
        .question-modal > * {
            position: relative;
            z-index: 1;
        }
        
        /* Start button brutalist style */
        .btn-start, .btn-primary {
            background: #ffffff !important;
            color: #000000 !important;
            border: none !important;
            padding: 20px 60px !important;
            font-size: 24px !important;
            font-weight: bold !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            text-transform: uppercase !important;
        }
        
        .btn-start:hover, .btn-primary:hover {
            transform: scale(1.1) !important;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.8) !important;
        }
        
        /* Timer */
        .timer {
            color: #ff3333 !important;
            font-size: 20px !important;
            font-weight: bold !important;
        }
        
        /* Loading spinner */
        .spinner {
            border-color: #666 !important;
            border-top-color: #ffffff !important;
        }
        
        /* Answer options container */
        .answer-options {
            background: transparent !important;
        }
        
        /* Hide ALL mascots including thinking robot */
        .mascot,
        .mascot-thinking,
        .mascot-happy,
        .mascot-sad,
        .mascot-container {
            display: none !important;
        }
        
        /* Force dark background on all quiz elements */
        #app {
            background: #000000 !important;
            min-height: 100vh !important;
        }
        
        /* Brutalist animations */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        @keyframes pulse-red {
            0% { filter: drop-shadow(0 0 10px rgba(255, 0, 0, 0.5)); }
            50% { filter: drop-shadow(0 0 20px rgba(255, 0, 0, 1)); }
            100% { filter: drop-shadow(0 0 10px rgba(255, 0, 0, 0.5)); }
        }
        
        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
            100% { transform: translate(0); }
        }
        
        /* Wrong answer effects */
        .hearts.shake {
            animation: shake 0.5s ease-in-out;
        }
        
        .feedback-incorrect .modal-content {
            animation: glitch 0.3s ease-in-out;
        }
        
        /* Correct answer effects */
        .feedback-correct .modal-content {
            box-shadow: 0 0 30px rgba(76, 175, 80, 0.8) !important;
        }
        
        /* More brutalist touches */
        .course-info h2 {
            color: #ffffff !important;
            text-transform: uppercase !important;
            letter-spacing: 2px !important;
        }
        
        /* Replace emoji mascots with text */
        .mascot-happy::after {
            content: "EXCELLENT" !important;
            font-size: 48px !important;
            font-weight: bold !important;
            color: #4CAF50 !important;
        }
        
        .mascot-sad::after {
            content: "TERMINATED" !important;
            font-size: 48px !important;
            font-weight: bold !important;
            color: #ff3333 !important;
        }
        
        /* Progress bar brutalist style */
        .progress {
            background: #333 !important;
            border: 2px solid #666 !important;
            padding: 5px 15px !important;
        }
        
        /* Score counter */
        .score {
            background: transparent !important;
            border: none !important;
            padding: 0 !important;
        }
        
        /* Wiggle animation for final score */
        @keyframes wiggle {
            0%, 100% { transform: rotate(-3deg); }
            25% { transform: rotate(3deg); }
            50% { transform: rotate(-2deg); }
            75% { transform: rotate(2deg); }
        }
        
        /* Flash in animation for counting */
        @keyframes flashIn {
            0% { 
                opacity: 0;
                transform: scale(1.5);
                filter: brightness(2) drop-shadow(0 0 30px rgba(255,255,255,1));
            }
            50% {
                opacity: 1;
                transform: scale(1.2);
                filter: brightness(1.5) drop-shadow(0 0 20px rgba(255,255,255,0.8));
            }
            100% { 
                opacity: 1;
                transform: scale(1);
                filter: brightness(1) drop-shadow(0 0 10px rgba(255,255,255,0.5));
            }
        }
        
        /* Modal slide up animation */
        @keyframes slideUp {
            0% { 
                transform: translateY(100%);
                opacity: 0;
            }
            100% { 
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        @keyframes shrink {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
        
        .feedback-modal {
            animation: slideUp 0.4s ease-out !important;
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- App content will be injected here -->
    </div>
    
    <script src="appi-modal-quiz.js"></script>
</body>
</html>